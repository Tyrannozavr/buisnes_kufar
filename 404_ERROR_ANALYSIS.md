# üîç **–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã 404 –æ—à–∏–±–∫–∏ –¥–ª—è `heroicons.json`**

## üö® **–ö–æ—Ä–µ–Ω—å –ø—Ä–æ–±–ª–µ–º—ã:**

**404 –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ Nginx –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ `/_nuxt_icon/heroicons.json`**

## üìã **–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω:**

### 1. **–ü—Ä–æ–±–ª–µ–º–∞ —Å –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π Nginx**
- **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ**: –ó–∞–ø—Ä–æ—Å—ã –∫ `/api/_nuxt_icon/heroicons.json` –ø–æ–ø–∞–¥–∞–ª–∏ –≤ –æ–±—â–∏–π –±–ª–æ–∫ `location ~ ^(/api|/admin)` 
- **–ü–æ—á–µ–º—É**: –ë–ª–æ–∫ `location ~ ^/api/_nuxt_icon/` –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –ü–û–°–õ–ï –æ–±—â–µ–≥–æ –±–ª–æ–∫–∞, –ø–æ—ç—Ç–æ–º—É Nginx –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –∑–∞–ø—Ä–æ—Å—ã –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: `_nuxt_icon` –∑–∞–ø—Ä–æ—Å—ã —à–ª–∏ –Ω–∞ backend –≤–º–µ—Å—Ç–æ frontend

### 2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç location –±–ª–æ–∫–æ–≤**
```nginx
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö (–±—ã–ª–æ):
location ~ ^(/api|/admin) {  # ‚Üê –≠—Ç–æ—Ç –±–ª–æ–∫ –ª–æ–≤–∏–ª –í–°–ï /api –∑–∞–ø—Ä–æ—Å—ã
    proxy_pass http://backend;
}
location ~ ^/api/_nuxt_icon/ {  # ‚Üê –≠—Ç–æ—Ç –±–ª–æ–∫ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª
    proxy_pass http://frontend;
}
```

### 3. **–ü—Ä–æ–±–ª–µ–º–∞ —Å frontend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π**
- **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ**: –í `plugins/api.ts` –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `config.public.apiBaseUrl` –≤–º–µ—Å—Ç–æ `config.apiBaseUrl`
- **–ü–æ—á–µ–º—É**: `public.apiBaseUrl` —Å–æ–¥–µ—Ä–∂–∏—Ç `/api` (–æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å), –∞ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π URL `http://backend:8000/api`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: Frontend –Ω–µ –º–æ–≥ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ backend –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## üõ†Ô∏è **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ location –±–ª–æ–∫–æ–≤ –≤ Nginx**
```nginx
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö (—Å—Ç–∞–ª–æ):
# –°–Ω–∞—á–∞–ª–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
location ~ ^/api/_nuxt_icon/ {
    proxy_pass http://frontend;  # _nuxt_icon ‚Üí frontend
}

# –ü–æ—Ç–æ–º –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ —Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
location ~ ^/api/(?!_nuxt_icon/).*$ {
    proxy_pass http://backend;  # –æ—Å—Ç–∞–ª—å–Ω—ã–µ /api ‚Üí backend
}
```

### 2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ frontend –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
```typescript
// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (—Å—Ç–∞–ª–æ):
if (import.meta.server) {
    baseURL = config.apiBaseUrl || 'http://backend:8000/api';  // –ü–æ–ª–Ω—ã–π URL –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
} else {
    baseURL = config.public.apiBaseUrl || '/api';  // –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π URL –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
}
```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤**
```nginx
# –î–æ–±–∞–≤–∏–ª–∏ –º–∞—Ä—à—Ä—É—Ç –¥–ª—è API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
location ~ ^/docs {
    proxy_pass http://backend;
}
```

## üîÑ **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

1. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: –í—ã—è–≤–∏–ª–∏, —á—Ç–æ `_nuxt_icon` –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ backend –≤–º–µ—Å—Ç–æ frontend
2. **–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: –û–±–Ω–∞—Ä—É–∂–∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤ –ø–æ—Ä—è–¥–∫–µ location –±–ª–æ–∫–æ–≤
3. **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω—É—é Docker —Å—Ä–µ–¥—É –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx**: –ò–∑–º–µ–Ω–∏–ª–∏ –ø–æ—Ä—è–¥–æ–∫ –∏ –ª–æ–≥–∏–∫—É location –±–ª–æ–∫–æ–≤
5. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ frontend**: –ü–æ–ø—Ä–∞–≤–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API URL –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
6. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ª–æ–∫–∞–ª—å–Ω–æ
7. **–î–µ–ø–ª–æ–π**: –ü—Ä–∏–º–µ–Ω–∏–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞ production

## üéØ **–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–µ—à–µ–Ω–∏—è:**

1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç–∏**: –ë–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ location –±–ª–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –ø–µ—Ä–µ–¥ –æ–±—â–∏–º–∏
2. **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**: `_nuxt_icon` –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ –Ω–∞ frontend, API - –Ω–∞ backend
3. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä/–∫–ª–∏–µ–Ω—Ç**: –†–∞–∑–Ω—ã–µ URL –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–µ–π frontend
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–æ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ production –¥–µ–ø–ª–æ–µ–º

## ‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ `https://tradesynergy.ru/api/_nuxt_icon/heroicons.json` ‚Üí HTTP 200
- ‚úÖ `https://tradesynergy.ru/docs` ‚Üí HTTP 200 (API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
- ‚úÖ `https://tradesynergy.ru/api/v1/*` ‚Üí HTTP 200 (API endpoints)
- ‚úÖ Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

## üìù **–§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω—ã:**

1. **`nginx/nginx.conf`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è production
2. **`nginx/nginx.local.conf`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
3. **`frontend/plugins/api.ts`** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API URL –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π —á–∞—Å—Ç–∏
4. **`frontend/nuxt.config.ts`** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Docker

## üöÄ **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –Ω–∞ production:**

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
git pull origin master
docker compose restart nginx
```

---

**–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –∏ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–∫ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, —Ç–∞–∫ –∏ frontend –Ω–∞—Å—Ç—Ä–æ–µ–∫!** üéâ

*–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è: 22 —Å–µ–Ω—Ç—è–±—Ä—è 2025*
*–°—Ç–∞—Ç—É—Å: –†–µ—à–µ–Ω–æ*

