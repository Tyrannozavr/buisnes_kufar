# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≥–æ—Ä–æ–¥–æ–≤ —Å superresearch.ru

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:
1. ‚úÖ –ü–∞—Ä—Å–∏—Ç –≥–æ—Ä–æ–¥–∞ —Å–æ —Å—Ç—Ä–∞–Ω–∏—Ü [superresearch.ru](https://superresearch.ru/?id=808) –¥–ª—è –≤—Å–µ—Ö —Ä–µ–≥–∏–æ–Ω–æ–≤ –†–æ—Å—Å–∏–∏
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã** - –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç –≥–æ—Ä–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ ("–ú–æ—Å–∫–≤–∞" = "–º–æ—Å–∫–≤–∞")
4. ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É: —Å–∫–æ–ª—å–∫–æ –Ω–∞–π–¥–µ–Ω–æ, —Å–∫–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–ø—É—â–µ–Ω–æ

## –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (3 —É—Ä–æ–≤–Ω—è):

### 1. –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ (—Å—Ç—Ä–æ–∫–∏ 274-295)
```python
# –£–¥–∞–ª—è–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã —Å—Ä–∞–∑—É –ø—Ä–∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏–∏
unique_cities = []
seen = set()
for city in cities:
    city_key = city_normalized.lower()
    if city_key not in seen:  # –ü—Ä–æ–≤–µ—Ä–∫–∞
        seen.add(city_key)
        unique_cities.append(city_normalized)
```

### 2. –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –≤ –ë–î (—Å—Ç—Ä–æ–∫–∏ 339-362)
```python
# –ü–æ–ª—É—á–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –≥–æ—Ä–æ–¥–∞
existing_city_names = {city[0].lower().strip() for city in existing_cities_result.all()}

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–π –≥–æ—Ä–æ–¥
for city_name in cities:
    city_normalized = city_name.lower().strip()
    if city_normalized in existing_city_names:  # ‚ùå –ù–ï –¥–æ–±–∞–≤–ª—è–µ–º
        cities_skipped += 1
        continue  # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º
```

### 3. –†–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
–ù–∞–∑–≤–∞–Ω–∏—è —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≤ –Ω–∏–∂–Ω–µ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π Python
```bash
cd backend
source new_venv/bin/activate
pip install beautifulsoup4 httpx lxml
python3 parse_cities_from_superresearch.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Docker (–Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
```bash
docker exec buisnes_kufar-backend-1 pip install beautifulsoup4 httpx
docker cp backend/parse_cities_from_superresearch.py buisnes_kufar-backend-1:/app/
docker exec buisnes_kufar-backend-1 python3 /app/parse_cities_from_superresearch.py
```

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –¥–ª—è –ú–∞—Ä–∏–π –≠–ª:
```
üåç –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º: –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª
üìç –ù–∞–π–¥–µ–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ: 210
üìã –£–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≥–æ—Ä–æ–¥–æ–≤ –≤ –ë–î: 1 (—Ç–æ–ª—å–∫–æ –ô–æ—à–∫–∞—Ä-–û–ª–∞)
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≥–æ—Ä–æ–¥–æ–≤: 209
‚è≠Ô∏è  –ü—Ä–æ–ø—É—â–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤/—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö: 1
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```sql
-- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –≥–æ—Ä–æ–¥–∞ –ú–∞—Ä–∏–π –≠–ª
SELECT c.name, c.population 
FROM cities c
JOIN regions r ON c.region_id = r.id
WHERE r.name = '–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª'
ORDER BY c.name;
```

## –ß—Ç–æ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ:
- 85 —Ä–µ–≥–∏–æ–Ω–æ–≤ –†–æ—Å—Å–∏–∏
- –ö–∞–∂–¥—ã–π —Ä–µ–≥–∏–æ–Ω –ø–∞—Ä—Å–∏—Ç—Å—è —Å superresearch.ru
- –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è (–∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)

