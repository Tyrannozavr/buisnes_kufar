Оглавление
Дополнения к основной части сайта	2
Единицы измерения	2
Страница подтверждения	3
Закладка «Товары».	4
Закладка «Услуги».	5
Страница «Редактор документов». Закладка «Заказ»	7
Страница «Редактор документов». Закладка «Счет»	11
Счет на оплату	13
Счет-договор	16
Счет-оферта	18


Дополнения к основной части сайта
Единицы измерения
Каждой единице измерения необходимо добавить код по ОКЕИ. В зависимости от выбранной единицы измерения товара будет автоматом проставляться код.
Наименование
Условное обозначение
Код
Штука
шт
796
Бобина
боб
616
Лист
л.
625
Набор
набор
704
Пара
пар
715
Рулон
рул
736



Миллиметр
мм
003
Сантиметр
см
004
Метр
м
006
Километр
км
008
Погонный метр
пог. м
018



Квадратный миллиметр
мм2
050
Квадратный сантиметр
см2
051
Квадратный метр
м2
055
Квадратный километр
км2
061
Гектар
га
059



Миллилитр
мл
111
Литр
л
112
Кубический миллиметр
мм3
110
Кубический сантиметр
см3
111
Кубический метр
м3
113



Миллиграмм
мг
161
Грамм
г
163
Килограмм
кг
166
Тонна
т
168


Страница подтверждения
Пользователь набросал себе продукции в корзинку. В корзине кнопка «Оформить заказ». При нажатии переход на Страницу подтверждения. Это, по сути, список заказов, отсортированных по продавцу, и кнопка «Подтвердить». 
















Заказ – намерение Покупателя совершить закупку продукции у конкретного Поставщика.  
Если в корзине множество товаров, например, от трех различных продавцов, то это будет три заказа соответствующие трем продавцам и три таблицы, состоящие из списков продукции (если у одного продавца в заказе есть и товары, и услуги – это два заказа данному продавцу). Заголовок для таблицы продукции – «Заказ на поставку для ИМЯ_КОМПАНИИ». Заголовок для таблицы услуг/работ – «Заказ на оказание услуг/работ для ИМЯ_КОМПАНИИ».
Нажатие кнопки «Подтвердить» отправляет заказ в раздел Личного кабинета «Закупки» покупателя и в Раздел «Продажи» продавца. Уведомляем продавца о поступившем заказе сообщением.
Продавец видит сообщение в чате. Отписывается о том, что заказ рассматривается. Переходит в раздел ЛК «Продажи» для работы с заказом. Там две закладки – «Товары» и «Услуги/Работы». В каждой из закладок находится таблица заказов (закладке «Товары» соответствует таблица заказов товаров, в нее попадают заказы, содержащие в себе только товары; закладке «Услуги/Работы» соответствует таблица заказов услуг/работ, в нее попадают заказы, содержащие в себе услуги). 
Закладка «Товары».
Таблица 1 Таблица продавца (раздел «Продажи» ЛК, закладка «Товары»)
Заказ
Дата
Покупатель
Состояние
Счет
Договор поставки
Сопроводительные документы
Счет-фактура
Другие документы
00111
7.04.25
Клиент_1
Завершенная
00012 от 8.04.25
00236 от 8.04.25 г.
УПД 12345 от 8.04.25 г
Создать счет-фактуру
Просмотр
00112
8.05.25
Клиент_1
Активная
Создать счет
Создать договор
Создать документ
Создать счет-фактуру

Таблица 2 Таблица покупателя (раздел «Закупки» ЛК, закладка «Товары»)
Заказ
Дата
Поставщик
Состояние 
Счет
Договор поставки
Сопроводительные документы
Счет-фактура
Другие документы
04443
7.04.25
Продажник_1
Завершенная
Просмотр
Просмотр
Просмотр
Просмотр
Просмотр
04444
8.05.25
Продажник_1
Активная
Просмотр
Просмотр
Просмотр
Просмотр
Просмотр
Сортировка столбцов: Заказ (возрастание-убывание), Дата (возрастание-убывание), Покупатель (Поставщик) (А-Я, Я-А). Ссылка «Просмотр» - это ссылки на соответствующие закладки Покупателя (как правило, документы создает Продавец).

    • Заказ. Генерация последовательности в порядке возрастания (маска: 00000), обновляем нумерацию ежегодно. Важно: одна и та же сделка купли-продажи может иметь различные номера заказов у Поставщика и Покупателя (Например, заказ 00111 Продавца и заказ 04443 Покупателя – это один заказ). Ссылка на страницу «Редактор документов» закладка «Заказ». 
    • Дата. Дата формирования заказа.
    • Покупатель/Поставщик. Без ОПФ (например, Сбербанк).
    • Состояние. Независимое поле. Пока 2 значения – Активная, Завершенная. Каждый из сторон сам определяет состояние сделки (например, для Поставщика сделка завершается после отгрузки продукции и передачи сопроводительных документов, а для Покупателя после приемки продукции).
    • Счет. Ссылка на страницу «Редактор документов» на закладку «Счета». Маска – 00000. К номеру счета добавляем текущую дату, используем в названии (например, 00001 от 01.01.25 г.), нумерацию обновляем ежегодно.
        ◦ Например (см. Таблица 1), если кликнуть на счет 00012 от 8.04.25, откроется страница «Редактор документов» на закладке «Счета», где мы найдем заполненный бланк счета под заказ 00111; если мы кликаем «Создать счет», мы переходим на страницу «Редактор документов» на закладку «Счет», где мы найдем пустой бланк счета заказа 00112.
        ◦ Пример (см. Таблица 2). Если кликнуть на счет заказа 04443 (ссылка «Просмотр» столбца «Счет») откроется страница «Редактор документов» на закладке «Счет», где мы в «Области документа» (см. Страница «Редактор документов») найдем изображения фото/сканов счета 00012, созданный Продавцом по заказе 00111, но без возможности его редактирования.
    • Договор поставки. Таже логика. Ссылка на закладку «Договор поставки» страницы «Редактор документов» Маска – 00000, обновление нумерации ежегодно. К номеру договора добавляем текущую дату, используем в названии (например, 00023 от 01.01.25 г.).
    • Сопроводительные документы. Ссылка на закладку «Сопроводительные документы» страницы «Редактор документов». Подробности на «Страница редактирования документов. Закладка «Сопроводительные документы»».
    • Счет-фактура. Таже логика. Ссылка на закладку «Счет-фактура» страницы «Редактор документов» Маска – 00000, обновление нумерации ежегодно. К номеру счет-фактуры добавляем текущую дату (точность до секунд), используем в названии (например, 00111 от 01.01.25 г.).
    • Другие документы.
Закладка «Услуги».
Таблица 3 Таблица продавца (раздел «Продажи» ЛК, закладка «Услуги»)
Заказ
Дата
Покупатель
Состояние
Счет
Договор
Акт
Счет-фактура
Другие документы
00111
7.04.25
Клиент_1
Завершенная
00012 от 8.04.25
00236 от 8.04.25 г.


Просмотр
00112
8.05.25
Клиент_1
Активная
Создать счет
Создать договор
Создать Акт
Создать счет-фактуру
Просмотр
Таблица 4 Таблица покупателя (раздел «Закупки» ЛК, закладка «Услуги»)
Заказ
Дата
Поставщик
Состояние
Счет
Договор
Акт
Счет-фактура
Другие документы
04443
7.04.25
Продажник_1
Завершенная
Просмотр
Просмотр
Просмотр
Просмотр
Просмотр
04444
8.05.25
Продажник_1
Активная
Просмотр
Просмотр
Просмотр
Просмотр
Просмотр
Сортировка столбцов: Заказ (возрастание-убывание), Дата (возрастание-убывание), Покупатель (А-Я, Я-А). Ссылка «Просмотр» - это ссылки на соответствующие закладки Покупателя (как правило, документы создает Продавец).

    • Заказ. Генерация последовательности в порядке возрастания (маска: 00000), обновляем нумерацию ежегодно. Важно: одна и та же сделка купли-продажи может иметь различные номера заказов у Поставщика и Покупателя (Например, заказ 00111 Продавца и заказ 04443 Покупателя – это один заказ). Ссылка на страницу «Редактор документов» закладка «Заказ». 
P.s.: как правило, инициатива по созданию документов лежит на Поставщике – право редактирования, Покупателю нужны только сканы этих документов с печатями.
    • Дата. Дата формирования заказа.
    • Покупатель/Поставщик.
    • Состояние. Независимое поле. Пока 2 значения – Активная, Завершенная. Каждый из сторон сам определяет состояние сделки (например, для Поставщика сделка завершается после отгрузки продукции и передачи сопроводительных документов, а для Покупателя после приемки продукции).
    • Счет. Ссылка на страницу «Редактор документов» на закладку «Счета». Маска – 00000. К номеру счета добавляем текущую дату, используем в названии (например, 00001 от 01.01.25 г.), нумерацию обновляем ежегодно.
        ◦ Например (см. Таблица 3), если кликнуть на счет 00012 от 8.04.25, откроется страница «Редактор документов» на закладке «Счета», где мы найдем заполненный бланк счета под заказ 00111; если мы кликаем «Создать счет» заказа 00112, мы переходим на страницу «Редактор документов» на закладку «Счет», где мы найдем пустой бланк счета заказа 00112.
        ◦ Пример (см. Таблица 4). Если кликнуть на счет заказа 04443 (ссылка «Просмотр» столбца «Счет») откроется страница «Редактор документов» на закладке «Счет», где мы найдем бланк счета 00012 от 8.04.25, созданный Продавцом по заказу 00111, но без возможности его редактирования.
    • Договор. Таже логика. Ссылка на закладку «Договор услуг/работ» страницы «Редактор документов» Маска – 00000, обновление нумерации ежегодно. К номеру договора добавляем текущую дату, используем в названии (например, 00023 от 01.01.25 г.).
    • Акт. Таже логика. Ссылка на закладку «Акт оказания услуг/выполненных работ» страницы «Редактор документов» Маска – 00000, обновление нумерации ежегодно. К номеру договора добавляем текущую дату, используем в названии (например, 00023 от 01.01.25 г.).
    • Счет-фактура. Таже логика. Ссылка на закладку «Счет-фактура» страницы «Редактор документов» Маска – 00000, обновление нумерации ежегодно. К номеру счет-фактуры добавляем текущую дату (точность до секунд), используем в названии (например, 00111 от 01.01.25 г.).
    • Другие документы.

Страница «Редактор документов». Закладка «Заказ».


Заказ.

Комментарии.
Это заказ на поставку. С нее начинается сделка. По своей сути, это НЕ документ (и к документообороту отношения не имеет), а письменное НАМЕРЕНИЕ произвести закупку. Здесь важно понимать, что в рамках одной сделки поставки создается ДВА документооборота: 1. Покупателя. 2. Поставщика – у каждого свой внутренний независимый документооборот вокруг ОДНОЙ сделки. 
Конкретно в скрине: Покупатель создает заказ (в его внутреннем документообороте – эта заказ имеет номер 1340) и отправляет Поставщику. Поставщик на основании этой заказа создает СВОЮ внутреннюю заказ – естественно, номер заказа будет другой. 
ВАЖНО предусмотреть следующую логику: 1. В идеале Покупатель создает заказ, например, на 5 наименований продукции и проводит сделку без изменения данных. 2. Покупатель через несколько дней решает добавить еще один или несколько продуктов по этой же заказе. Здесь два пути: 2.1. Покупатель изменяет заказ в своем документообороте (номер заказа не меняется) и подает Поставщику заново. 2.2 Покупатель устно (звонком или сообщением, так часто бывает, когда контрагенты сотрудничают друг с другом давно) дает знать Поставщику об изменении перечня продукции, Поставщик изменяет заказ своего документооборота и оповещает об этом Покупателя. Здесь важно отслеживать изменения, вносимые как Покупателем, так и Поставщиком, и оповещать стороны об изменении заказа, так как на заказе базируется весь документооборот (не должно получиться такого, что Покупатель просил 15 кроликов, а ему поставили 10 зайчиков!!!).
На платформе заказ Покупателя раздела «Закупки» ЛК должна быть идентична заказе Поставщика раздела «Продажи» ЛК в рамках одной сделки на поставку (корме номеров заказа). При этом изменение заказа одной из сторон сделки НЕ ДОЛЖНО приводить к автоматическому изменению заказа у другой стороны (так как одна сторона и сама платформа не могут вмешиваться в документооборот другой стороны) – мы должны оповестить сторону об изменении и предложить обновить данные. ОБЕ СТОРОНЫ ДОГОВОРА ИМЕЮТ ПРАВО РЕДАКТИРОВАНИЯ ЗАКАЗА.
Функционал.
Область документа.
Слева окна имитация страницы формата А4 (210×297 мм). По сути, это форма с изменяемыми полями. Вниз может уходить множество страниц А4, но давай ограничим 10 страницами. Как для альбомной, так и для книжной ориентации страницы формата А4.
На форме (выделение цветом носит описательный характер для разработчика, по факту ч/б исполнение):
    • Черный шрифт – статические данные.
    • Желтое выделение – автоматически заполняемые поля с возможностью ручного редактирования.
    • Красное выделение - автоматически заполняемые поля без возможности ручного редактирования.
Данные формы.
    • Название организации. Берем конкатенацию из полей «Организационно-правовая форма «Название организации»».
    • Адрес. Берем из поля «Юридический адрес».
    • Телефон. Данные поля «Телефон».
    • Номер заказа. Генерация по маске 00000 от 00001 по возрастанию. Ежегодное обнуление. 
    • Дата. Текущая дата создания заказа, т.е. то время, когда пользователь нажал «Подтвердить» на странице Подтверждения заказа.
    • Таблица. Заполняется данными продукции из корзины, все данные есть в карточке товара. Сумма = Количество * Цена.  При наведении курсора на какую-либо строку таблицы справа появляется (чтоб не смущать пользователя его постоянным присутствием) символ удаления строки (символ на твое, Дим, усмотрение). Последняя строка – это кнопка «Добавить продукт» для ручного редактирования заказа, добавления продукта в таблицу. Здесь придется заморочиться. Для исключения ошибок при ручном вводе, например, наименования продукта или артикула, мы должны предложить выбор из готового списка. Предлагаю следующий механизм: на основании данных из раздела «Продукция» ЛК мы сможем сформировать и хранить что-то вроде прайс-листа и, собственно, предлагать пользователям работать с этим прайсом – просмотреть, распечатать (это очень удобно, когда наименований продукции много) из Клиентской страницы организации; и брать данные для заполнения полей таблицы из этого перечня.
    • Всего наименований, на сумму, сумма прописью. Снова немного математики.
    • Должностные лица. Доработки основного функционала: раздел «Данные компании» ЛК; после контактных данных добавляем ещё одну группу данных «Должностные лица». По принципу характеристик товара даем пользователю добавить должностных лиц; пара «должность - ФИО»; Должность – на выбор из списка: Генеральный директор, Исполнительный директор, Директор, Заместитель директора, Главный бухгалтер, Бухгалтер; информируем о том, что это не публичные данные, а используются для заполнения документов.
Область команд
    • Заполнить данными. Вначале заполнены только номер заказа и дата. При нажатии на кнопку все поля заполняются. На самом деле, Дим, в такой логике нет особой необходимости (при сравнении с тем, если пользователь сразу попадает на заполненную форму), но давай реализуем именно так для создания эффекта мощного функционала при минимальном количестве действий пользователя. Плюс эта кнопка нужна для того, если пользователь что-то отредактировал вручную, но нужно вернуть «Заводские настройки». ВАЖНО: если пользователь изменил данные и нажал на кнопку «Сохранить документ», то «Заводскими данными» становятся сохраненные данные. При нажатии на кнопку уведомляем: «Данные будут изменены. Продолжить?».
    • Группа команд «Создать ДОКУМЕНТ на основании». Совершает переход на соответствующую вкладку и автоматически заполняет форму данными заказа. 
    • Кнопка «Предварительный просмотр». Показывает, как будет выглядеть документ на печати. Значок на твое усмотрение, но в стиле MS Word.
    • «Печать». Используй какую-нибудь современную АПИшку с возможностью двухсторонней печати. Но бесплатную.
    • «DOC». Сохраняем документ в формате *.doc в каталоге, выбранном пользователем.
    • «PDF». Сохраняем документ в формате *.pdf в каталоге, выбранном пользователем.
    • Команда «Редактировать». Возможно, не совсем нужная команда. Ранее было отмечено, что нам необходимо отслеживать изменения данных в заказе. С одной стороны, можно отслеживать любые изменения непосредственно на форме, тогда команда «Редактировать» не нужна. С другой, форму невозможно редактировать пока не выполнена команда «Редактировать». В общем цель отследить изменения, выбор метода на тебе.
    • Команда «Удалить данные». Удаляет все данные формы кроме номера и даты.
    • Кнопка «Сохранить документ». Сохраняет измененные данные. При нажатии на кнопку улетает сообщение Покупателю (если сохранил Поставщик) или Поставщику (если сохранил Покупатель): «Контрагент изменил данные заказа». При открытии заказа стороной НЕ менявшей ее, выводим диалог: «Контрагент изменил данные заказа. Обновить данные?». Спрашивать при каждом открытии заказа пока они снова не станут идентичными. 
    • Фото/Сканы документов. Чтоб долго не писать вот ссылка - https://elba.kontur.ru/Business/Documents/Preview/DocumentPreview?scope=hcqjiobirgrrvdd0puxkqa&id=64f97a4c-5246-47c4-b3a0-813288cf7203&type=Contract&anchor=EditDocumentFromOutgoingDocumentList
Логин: EvgenijSemakin001@mail.ru
Пароль: 32bkxZ6uwGH3Jc
Комментарий. КОНТРАГЕНТ – в рамках договора это сторона, отвечающая за соблюдение условий этого договора. Например: Ты, Дим, заключал договор на оказание услуг (создание сайта). Для заказчика контрагент ты, а для тебя контрагент – заказчик.
    • Команда «Отправить контрагенту». Отправляет фото/скрин в чат и в блок «Фото/Сканы документов» соответствующей заявки закладки «Заказ». Можно использовать страницу «Предварительный просмотр» для просмотра файла. Для экономии памяти на диске желательно использовать файл какого-либо фото/скрина в единичном экземпляре, а для реализации функционала использовать ссылки к этому файлу. Но это опять же, на твоё усмотрение.
    • Команда «Удалить». Удаляет фото/скан документа (только у того, кто удаляет).
    • Сохранить. Сохраняет в каталоге, выбранном пользователем.

Страница «Редактор документов». Закладка «Счет».



Бланк документа
Образец заполнения документа




Счет на оплату
Для реализации необходимо внести в основой функционал следующие изменения:
    1. В ЛК разделе «Данные компании» добавить:
        a. Подраздел «Платежные реквизиты» (сразу после подраздела «Реквизиты компании») – СПРАВА - поле «БИК банка», поле «Корр. счет банка», поле «Наименование банка».
        b. Подраздел «Платежные реквизиты» - СЛЕВА – поле «Номер расчетного счета»; раскрывающийся список «Ставка НДС» со значениями – 5, 7, 10, 18, 20, 25, Без НДС. 
        c. Подраздел «Информация о компании» - поле «Индекс».
    2. Все разделения числа на разряды (тысячные, миллионные и т. д.) производятся ЗАПЯТОЙ. Копейки через ТОЧКУ. Например: 1,200.00 руб. Прописью – Одна тысяча двести рублей 00 копеек. 
В таблице в колонке «Счет» находится ссылка «Создать счет». Сайт проверяет есть ли у продавца договоры с данным покупателем:
    • Если договоров нет, выводим диалоговое окно:
        ◦ «С данным контрагентом нет текущих договоров. Создать Счет без основания? «Да/Нет»». (Комментарий: основанием для выставления счета на оплату является договор, заключаемый между покупателем и продавцом, но зачастую возникает необходимость направить счет без основания). Если ответ «Да» переходим на закладку «Счет», присваиваем счету порядковый номер по маске 00000, устанавливаем для документа текущую дату. Если ответ «Нет», остаемся на месте.
    • Если договоры есть, также в диалоговом окне:
        ◦ Предлагаем список Договоров с данным покупателем (все договоры компании хранятся в разделе ЛК «Договоры»). При выборе пользователем конкретного договора создается Счет на основании (по факту в области команд ставится галка «Основание», в поле под галку вписывается выбранный договор в формате «НОМЕР ДОГОВОРА от ДАТА» и в области документа выставляем название договора напротив «Основание»), счету присваивается порядковый номер по маске 00000, присваивается текущая дата, а номер выбранного Договора помещается в таблицу «Продажи» колонка «Договор» данной заявки.

Функционал.
Область документа.
Слева окна имитация страницы формата А4 (210×297 мм), книжная ориентация. По сути, это форма с изменяемыми полями. Вниз может уходить множество страниц А4 в зависимости от объема данных. 
На форме (выделение цветом носит описательный характер для разработчика, по факту ч/б исполнение):
    • Черный шрифт – статические данные.
    • Желтое выделение – автоматически заполняемые поля с возможностью ручного редактирования.
    • Красное выделение - автоматически заполняемые поля без возможности ручного редактирования.
Данные формы.
    • Сверху документа – таблица. Она условно разделена на две части: реквизиты банка, обслуживающего счет компании, и платежные реквизиты самой компании. «Банк получателя» берем из «Наименование банка» ЛК, «БИК» из «БИК банка», «Счет №» (который верхний, банковский) из «Корр. счет банка». «ИНН» из «ИНН», «КПП» из «КПП», «Счет №» (который снизу) из «Номер расчётного счета», «Получатель» из конкатенации ТИП ОРГАНИЗАЦИИ + «НАЗВАНИЕ ОРГАНИЗАЦИИ».
    • Название документа. Счет на оплату №. Номер заказа - генерация по маске 00000 от 00001 по возрастанию. Ежегодное обнуление. Дата – текущая дата, если документ новый. 
    • ЧЕРТА. Она мне встречалась во всех документах, давай сделаем ее на всякий случай. Причем она жирная.
    • Поставщик (Исполнитель). Конкатенация – «ТИП ОРГАНИЗАЦИИ + НАЗВАНИЕ ОРГАНИЗАЦИИ, ИНН ИНН, КПП КПП, ИНДЕКС, ЮРИДИЧЕСКИЙ АДРЕС».
    • Покупатель (Заказчик). Конкатенация - «ТИП ОРГАНИЗАЦИИ + НАЗВАНИЕ ОРГАНИЗАЦИИ, ИНН ИНН, КПП КПП, ИНДЕКС, ЮРИДИЧЕСКИЙ АДРЕС».
    • Основание. Заполняется номером договора по конкатенации – «НОМЕР ДОГОВОРА от ДАТА г.» Только при установленной галке «Основание» области команд. Если галка не установлена, это поле пропадает с документа.
    • Таблица. Таблица с товарами заполняется данными продукции из заявки. Сумма = Количество * Цена. 
    • Итого. Сумма всех сумм.
    • Сумма НДС. ИТОГО + Ставка НДС. Если в области команд не установлена галка «Ставка НДС», это поле остается на документе, но пустое.
    • Всего к оплате. ИТОГО + Сумма НДС.
    • Всего наименований – количество строк в таблице, на сумму – из поля «всего к оплате», сумма прописью – копейки цифрами. Снова немного математики.
    • Счет действителен в течении … рабочих дней с момента выставления. Если в области команд стоит галка «Срок оплаты», то берем из поля ввода число и на документе отображаем эту надпись с этим числом. 
    • Дополнительная информация. Если в области команд стоит галка «Дополнительная информация», создаем на документе поле ввода с готовым шаблоном текста – 

«Внимание!
Оплата данного счета означает согласие с условиями поставки товара.
Уведомление об оплате обязательно, в противном случае не гарантируется наличие товара на складе.
Товар отпускается по факту прихода денег на р/с Поставщика, самовывозом, при наличии доверенности и паспорта.»

с возможностью ручного редактирования. Форматирование текста как по шаблону (переносы строки), без кавычек.
    • ЧЕРТА. Снова жирная черта.
    • Должностные лица. Возможность создать на документе от одного до трех подписавшихся. Даем возможность автоматического заполнения из данных ЛК раздела «Данные компании» подраздела «Должностные лица» или ручного ввода.
Область команд
    • Заполнить данными. Вначале заполнены только номер заказа и дата. ВАЖНО: если пользователь изменил данные и нажал на кнопку «Сохранить документ», то «Заводскими данными» становятся сохраненные данные. При нажатии на кнопку уведомляем: «Данные будут изменены. Продолжить?».
    • Выпадающий список «Тип документа». Всего предопределенных типов документа три: «Счет на оплату», «Счет-договор» и «Счет-оферта». По умолчанию (при создании нового счета) тип документа – «Счет на оплату». Соответственно в области документа бланк счета на оплату. 
    • Основание и выпадающий список к нему. Если галка не установлена, выпадающий список неактивен. Если галка поставлена, выпадающий список предлагает выбрать договор по данному Покупателю. По умолчанию галка не стоит.
    • Ставка НДС и выпадающий список к ней. Если у продавца (повторюсь, что именно он занимается, как правило, оформлением документов) в ЛК в разделе «Данные компании» подразделе «Платежные реквизиты» в списке «Ставка НДС» установлено любое значение отличное от «Без НДС», то по умолчанию галка стоит и выбрано значение из ЛК. Если галка стоит, на форме документа напротив надписи «Сумма НДС» добавляем данные по формуле СУММА НДС = ИТОГО + СТАВДКА НДС.
    • Срок оплаты. По умолчанию галка не стоит. Если поставили, то после «Сумма прописью» через строку добавляем надпись:
«Счет действителен в течении … рабочих дней с момента выставления». Количество дней берем из поля ввода этой галки.
    • Дополнительная информация. По умолчанию галка стоит. В документе появляется поле с текстом:
«Внимание!
Оплата данного счета означает согласие с условиями поставки товара.
Уведомление об оплате обязательно, в противном случае не гарантируется наличие товара на складе.
Товар отпускается по факту прихода денег на р/с Поставщика, самовывозом, при наличии доверенности и паспорта.»

    • Кнопка «Предварительный просмотр». Показывает, как будет выглядеть документ на печати. Значок на твое усмотрение, но в стиле MS Word.
    • «Печать».
    • «DOC». Сохраняем документ в формате *.doc в каталоге, выбранном пользователем.
    • «PDF». Сохраняем документ в формате *.pdf в каталоге, выбранном пользователем.
    • Команда «Удалить данные». Удаляет все данные формы кроме номера и даты.
    • Кнопка «Сохранить документ». Сохраняет измененные данные. 
    • Фото/Сканы документов. Чтоб долго не писать вот ссылка - https://elba.kontur.ru/Business/Documents/Preview/DocumentPreview?scope=hcqjiobirgrrvdd0puxkqa&id=64f97a4c-5246-47c4-b3a0-813288cf7203&type=Contract&anchor=EditDocumentFromOutgoingDocumentList
Логин: EvgenijSemakin001@mail.ru
Пароль: 32bkxZ6uwGH3Jc

    • Команда «Отправить контрагенту». Отправляет фото/скрин в чат и в блок «Фото/Сканы документов» соответствующей заявки закладки «Заказ». Можно использовать страницу «Предварительный просмотр» для просмотра файла. Для экономии памяти на диске желательно использовать файл какого-либо фото/скрина в единичном экземпляре, а для реализации функционала использовать ссылки к этому файлу. Но это опять же, на твоё усмотрение.
    • Команда «Удалить». Удаляет фото/скан документа (только у того, кто удаляет).
    • Сохранить. Сохраняет в каталоге, выбранном пользователем.


Счет-договор
Область документа
В область документа монтируем соответствующий документ Счет-договор (в приложении).

Область команд
    • Заполнить данными (кнопка). Вначале заполнены только номер заказа и дата. ВАЖНО: если пользователь изменил данные и нажал на кнопку «Сохранить документ», то «Заводскими данными» становятся сохраненные данные. При нажатии на кнопку уведомляем: «Данные будут изменены. Продолжить?».
    • Выпадающий список «Тип документа». Сейчас это Счет-договор.
    • Ставка НДС и выпадающий список к ней. Если у продавца (повторюсь, что именно он занимается, как правило, оформлением документов) в ЛК в разделе «Данные компании» подразделе «Платежные реквизиты» в списке «Ставка НДС» установлено любое значение отличное от «Без НДС», то по умолчанию галка стоит и выбрано значение из ЛК. Если галка стоит, на форме документа напротив надписи «Сумма НДС» добавляем данные по формуле СУММА НДС = ИТОГО + СТАВДКА НДС.
    • Условия договора. По умолчанию галка стоит.
        ◦ Выпадающий список. Это список из имен шаблонов для части документа «условия договора». Предопределенных шаблонов 2: «Стандартный, доставка Поставщика» и «Стандартный, доставка Покупателя» Если галка «условия договора» стоит, то по умолчанию в списке шаблонов стоит шаблон с названием «Стандартный, доставка Поставщика» - это значит, что в документ встает шаблон из 9-ти пунктов, при этом в пункте 5 исполнитель Поставщик. Если пользователь выбирает шаблон «Стандартный, доставка Покупателя» в пункте 5 исполнитель Покупатель. Все имена шаблонов берутся из редактора шаблонов.
        ◦ Ссылка «Редактор шаблонов». Расположена напротив названия галки «Условия договора». Это диалоговое окно для работы с шаблонами текста. В нем также выпадающий список из названий шаблонов и, собственно, поле для ввода текста. Каждому названию шаблона соответствует свой текст. Продумать возможность для пользователя сделать какой-либо шаблон по умолчанию. 
Сам текст шаблона должен состоять из абзацев с автоматической нумерацией. Например, если пользователь пишет первый абзац, то при нажатии «Enter», происходит перевод строки и новому абзацу присваивается следующий. Номер (аналог Нумерованного списка MS Word).
Также в диалоговом окне есть две кнопки «Срок оплаты» и «Срок поставки», при нажатии на них в месте нахождения курсора редактируемого текста вставляется «место», которое будет заполняться числом из поля ввода «Срок оплаты» и «Срок поставки соответственно»
ВАЖНО: данные шаблоны применимы только к данному Поставщику.
ВАЖНО: в тексте условий договора встречаются такие элементы как «срок оплаты» и «срок доставки», автоматически заполняемые из полей ввода Области команд. Назовем их СПЕЦСИМВОЛАМИ. В предопределённых шаблонах эти спецсимволы есть, соответственно при выборе данного шаблона галки «Срок оплаты» и «Срок поставки» активны. Если, например, пользователь создал свои шаблоны без спецсимволов, то галки неактивны. Здесь получается двухсторонняя связь: имя шаблона и его текст влияют на работу галок и галки влияют на содержание текста.
    • Срок оплаты. Если галка «Условия договора» НЕ стоит, то и эта галка Неактивна. По умолчанию галка «Срок оплаты стоит» и пункт 3 условий заполняем числом из поля ввода. Если галка не стоит, то пункт 3 вообще убирается из условий договора.
    • Срок поставки. Если галка «Условия договора» НЕ стоит, то и эта галка Неактивна. По умолчанию галка «Срок поставки стоит» и пункт 4 условий заполняем числом из поля ввода. Если галка не стоит, то пункт 4 вообще убирается из условий договора.
    • Реквизиты Поставщика. По умолчанию галка стоит. В конце документа слева устанавливаются реквизиты Поставщика согласно документу Счет-договор.
    • Реквизиты Покупателя. По умолчанию галка стоит. В конце документа справа устанавливаются реквизиты Покупателя согласно документу Счет-договор.
    • Кнопка «Предварительный просмотр». Показывает, как будет выглядеть документ на печати. Значок на твое усмотрение, но в стиле MS Word.
    • «Печать».
    • «DOC». Сохраняем документ в формате *.doc в каталоге, выбранном пользователем.
    • «PDF». Сохраняем документ в формате *.pdf в каталоге, выбранном пользователем.
    • Команда «Удалить данные». Удаляет все данные формы кроме номера и даты.
    • Кнопка «Сохранить документ». Сохраняет измененные данные. 
    • Фото/Сканы документов. 
    • Команда «Отправить контрагенту». Отправляет фото/скрин в чат и в блок «Фото/Сканы документов» соответствующей заявки закладки «Заказ». Можно использовать страницу «Предварительный просмотр» для просмотра файла. Для экономии памяти на диске желательно использовать файл какого-либо фото/скрина в единичном экземпляре, а для реализации функционала использовать ссылки к этому файлу. Но это опять же, на твоё усмотрение.
    • Команда «Удалить». Удаляет фото/скан документа (только у того, кто удаляет).
    • Сохранить. Сохраняет в каталоге, выбранном пользователем.





Счет-оферта
Область документа
В область документа монтируем соответствующий документ Счет-оферта (в приложении).
Область команд
    • Заполнить данными (кнопка). Вначале заполнены только номер заказа и дата. ВАЖНО: если пользователь изменил данные и нажал на кнопку «Сохранить документ», то «Заводскими данными» становятся сохраненные данные. При нажатии на кнопку уведомляем: «Данные будут изменены. Продолжить?».
    • Выпадающий список «Тип документа». Сейчас это Счет-оферта.
    • Ставка НДС и выпадающий список к ней. Если у продавца (повторюсь, что именно он занимается, как правило, оформлением документов) в ЛК в разделе «Данные компании» подразделе «Платежные реквизиты» в списке «Ставка НДС» установлено любое значение отличное от «Без НДС», то по умолчанию галка стоит и выбрано значение из ЛК. Если галка стоит, на форме документа напротив надписи «Сумма НДС» добавляем данные по формуле СУММА НДС = ИТОГО + СТАВДКА НДС.
    • Галка «Дополнительная информация». Под жирной чертой появляется текст:
«Настоящий счет-оферта (далее счет) является письменным предложением (офертой) ТИП ОРГАНИЗАЦИИ «НАЗВАНИЕ ОРГАНИЗАЦИИ», далее по тексту Поставщик, заключить договор поставки (далее договор). Договор считается согласованным путем принятия (акцептования) оферты Покупателем в установленном порядке (п.3 ст.438 ГК) и обладает свойствами письменной формы договора (п.3 ст.434 ГК).»
    • Условия договора. По умолчанию галка стоит.
        ◦ Выпадающий список. Это список из имен шаблонов для части документа «условия договора». Предопределенных шаблонов 2: «Стандартный, доставка Поставщика» и «Стандартный, доставка Покупателя» Если галка «условия договора» стоит, то по умолчанию в списке шаблонов стоит шаблон с названием «Стандартный, доставка Поставщика» - это значит, что в документ встает шаблон из 6-ти пунктов, при этом в пункте 5 исполнитель Поставщик. Если пользователь выбирает шаблон «Стандартный, доставка Покупателя» в пункте 5 исполнитель Покупатель. Все имена шаблонов берутся из редактора шаблонов.
        ◦ Ссылка «Редактор шаблонов». Расположена напротив названия галки «Условия договора». Это диалоговое окно для работы с шаблонами текста. В нем также выпадающий список из названий шаблонов и, собственно, поле для ввода текста. Каждому названию шаблона соответствует свой текст. Продумать возможность для пользователя сделать какой-либо шаблон по умолчанию. 
Сам текст шаблона должен состоять из абзацев с автоматической нумерацией. Например, если пользователь пишет первый абзац, то при нажатии «Enter», происходит перевод строки и новому абзацу присваивается следующий. Номер (аналог Нумерованного списка MS Word).
Также в диалоговом окне есть две кнопки «Срок оплаты» и «Срок поставки», при нажатии на них в месте нахождения курсора редактируемого текста вставляется «место», которое будет заполняться числом из поля ввода «Срок оплаты» и «Срок поставки соответственно»
ВАЖНО: данные шаблоны применимы только к данному Поставщику.
ВАЖНО: в тексте условий договора встречаются такие элементы как «срок оплаты» и «срок доставки», автоматически заполняемые из полей ввода Области команд. Назовем их СПЕЦСИМВОЛАМИ. В предопределённых шаблонах эти спецсимволы есть, соответственно при выборе данного шаблона галки «Срок оплаты» и «Срок поставки» активны. Если, например, пользователь создал свои шаблоны без спецсимволов, то галки неактивны. Здесь получается двухсторонняя связь: имя шаблона и его текст влияют на работу галок и галки влияют на содержание текста.
    • Срок оплаты. Если галка «Условия договора» НЕ стоит, то и эта галка Неактивна. По умолчанию галка «Срок оплаты стоит» и пункт 4 условий заполняем числом из поля ввода. Если галка не стоит, то пункт 4 вообще убирается из условий договора.
    • Срок поставки. Для документа Счет-оферта данная галка неактивна.
    • Кнопка «Предварительный просмотр». Показывает, как будет выглядеть документ на печати. Значок на твое усмотрение.
    • «Печать».
    • «DOC». Сохраняем документ в формате *.doc в каталоге, выбранном пользователем.
    • «PDF». Сохраняем документ в формате *.pdf в каталоге, выбранном пользователем.
    • Команда «Удалить данные». Удаляет все данные формы кроме номера и даты.
    • Кнопка «Сохранить документ». Сохраняет измененные данные. 
    • Фото/Сканы документов. 
    • Команда «Отправить контрагенту». Отправляет фото/скрин в чат и в блок «Фото/Сканы документов» соответствующей заявки закладки «Заказ». Можно использовать страницу «Предварительный просмотр» для просмотра файла. Для экономии памяти на диске желательно использовать файл какого-либо фото/скрина в единичном экземпляре, а для реализации функционала использовать ссылки к этому файлу. Но это опять же, на твоё усмотрение.
    • Команда «Удалить». Удаляет фото/скан документа (только у того, кто удаляет).
    • Сохранить. Сохраняет в каталоге, выбранном пользователем.



